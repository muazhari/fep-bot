{"version":3,"sources":["../../../src/Bot/Features/Basic.js"],"names":["Basic","Bot","admin","source","props","event","Features","Access","whitelist","user","replyText","JSON","stringify","say","args","length","msg","join","command_prefix","greet","groupId","console","log","client","getGroupMemberIds","then","ids","forEach","id","getGroupMemberProfile","profile","displayName","catch","err","arg","userId","getProfile","statusMessage","help","msg1","msg2"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,wBAAQC,OAAO;AAC1B,QAAMC,QAAQ,MAAM;AAClB,UAAM,EAAEC,MAAF,KAAaF,IAAIG,KAAJ,CAAUC,KAA7B;AACA,QAAIJ,IAAIK,QAAJ,CAAaC,MAAb,CAAoBC,SAApB,GAAgCC,IAApC,EAA0C;AACxCR,UAAIS,SAAJ,CAAe,cAAaC,KAAKC,SAAL,CAAeX,IAAIG,KAAJ,CAAUC,KAAzB,CAAgC,EAA5D;AACD;AACF,GALD;;AAOA,QAAMQ,MAAMC,QAAQ;AAClB,QAAIA,KAAKC,MAAL,IAAe,CAAnB,EAAsB;AACpB,YAAM,EAAEZ,MAAF,KAAaF,IAAIG,KAAJ,CAAUC,KAA7B;AACA,YAAMW,MAAM,CAAC,GAAGF,IAAJ,EAAUG,IAAV,CAAe,GAAf,CAAZ;AACAhB,UAAIS,SAAJ,CAAcM,GAAd;AACD,KAJD,MAIO;AACLf,UAAIS,SAAJ,CAAe,GAAEQ,mBAAe,WAAhC;AACD;AACF,GARD;;AAUA,QAAMC,QAAQL,QAAQ;AACpB,UAAMM,UAAUN,KAAK,CAAL,KAAWb,IAAIG,KAAJ,CAAUC,KAAV,CAAgBF,MAAhB,CAAuBiB,OAAlD;AACAC,YAAQC,GAAR,CAAYF,OAAZ;AACAnB,QAAIsB,MAAJ,CACGC,iBADH,CACqBJ,OADrB,EAEGK,IAFH,CAEQC,OAAO;AACXA,UAAIC,OAAJ,CAAYC,MAAMP,QAAQC,GAAR,CAAYM,EAAZ,CAAlB;AACAP,cAAQC,GAAR,CAAYI,GAAZ,EAAiBA,GAAjB;AACAzB,UAAIsB,MAAJ,CAAWM,qBAAX,CAAiCT,OAAjC,EAA0CM,IAAI,CAAJ,CAA1C,EAAkDD,IAAlD,CAAuDK,WAAW;AAChE7B,YAAIS,SAAJ,CACG,WAAUoB,QAAQC,WAAY,sCADjC;AAGD,OAJD;AAKD,KAVH,EAWGC,KAXH,CAWSC,OAAO;AACZ,YAAMA,GAAN;AACD,KAbH;AAcD,GAjBD;;AAmBA,QAAMH,UAAUI,OAAO;AACrB,UAAM,EAAE/B,MAAF,KAAaF,IAAIG,KAAJ,CAAUC,KAA7B;;AAEA,QAAI6B,OAAO/B,OAAOgC,MAAlB,EAA0B;AACxB,YAAMA,SAASD,IAAI,CAAJ,KAAU/B,OAAOgC,MAAhC;AACAlC,UAAIsB,MAAJ,CACGa,UADH,CACcD,MADd,EAEGV,IAFH,CAEQK,WACJ7B,IAAIS,SAAJ,CAAc,CACX,iBAAgBoB,QAAQC,WAAY,EADzB,EAEX,mBAAkBD,QAAQO,aAAc,EAF7B,CAAd,CAHJ,EAQGL,KARH,CAQSC,OAAO;AACZhC,YAAIS,SAAJ,CAAc,YAAd;AACD,OAVH;AAWD,KAbD,MAaO;AACLT,UAAIS,SAAJ,CAAc,2CAAd;AACD;AACF,GAnBD;;AAqBA,QAAM4B,OAAO,MAAM;AACjB,UAAMC,OAAQ;;MAEZrB,mBAAe;;;MAGfA,mBAAe;;;MAGfA,mBAAe;;;MAGfA,mBAAe,QAXjB;;AAaA,UAAMsB,OAAQ;;CAAd;;AAIA;AACD,GAnBD;;AAqBA,SAAO,EAAEtC,KAAF,EAASoC,IAAT,EAAeR,OAAf,EAAwBX,KAAxB,EAA+BN,GAA/B,EAAP;AACD,CAhFM","file":"Basic.js","sourcesContent":["import { StoreAdvance, command_prefix } from \"../../Bot\";\n\nexport const Basic = Bot => {\n  const admin = () => {\n    const { source } = Bot.props.event;\n    if (Bot.Features.Access.whitelist().user) {\n      Bot.replyText(`Privilage: ${JSON.stringify(Bot.props.event)}`);\n    }\n  };\n\n  const say = args => {\n    if (args.length >= 1) {\n      const { source } = Bot.props.event;\n      const msg = [...args].join(\" \");\n      Bot.replyText(msg);\n    } else {\n      Bot.replyText(`${command_prefix}say <msg>`);\n    }\n  };\n\n  const greet = args => {\n    const groupId = args[0] || Bot.props.event.source.groupId;\n    console.log(groupId);\n    Bot.client\n      .getGroupMemberIds(groupId)\n      .then(ids => {\n        ids.forEach(id => console.log(id));\n        console.log(ids, ids);\n        Bot.client.getGroupMemberProfile(groupId, ids[0]).then(profile => {\n          Bot.replyText(\n            `Welcome ${profile.displayName}! Jangan lupa cek notes di group ya!`\n          );\n        });\n      })\n      .catch(err => {\n        throw err;\n      });\n  };\n\n  const profile = arg => {\n    const { source } = Bot.props.event;\n\n    if (arg || source.userId) {\n      const userId = arg[0] || source.userId;\n      Bot.client\n        .getProfile(userId)\n        .then(profile =>\n          Bot.replyText([\n            `Display name: ${profile.displayName}`,\n            `Status message: ${profile.statusMessage}`\n          ])\n        )\n        .catch(err => {\n          Bot.replyText(\"Invalid ID\");\n        });\n    } else {\n      Bot.replyText(\"Bot can't use profile API without user ID\");\n    }\n  };\n\n  const help = () => {\n    const msg1 = `FEP Days & Rooms Commands\n1. add <batch> <name> <campus> <room>\n    ${command_prefix}add a kamu Kemanggisan 000\n\n2. upd <batch> <number> <name> <campus> <room>\n    ${command_prefix}upd a 1 kamu Kemanggisan 000\n\n3. del <batch> <number>\n    ${command_prefix}del a 1\n\n4. view <batch>\n    ${command_prefix}view a`;\n\n    const msg2 = `Twibbon otomatis? gunakan /twibbon\nmasukan gambar dan jadi!\n`;\n\n    // Bot.replyText([msg2]);\n  };\n\n  return { admin, help, profile, greet, say };\n};\n"]}