{"version":3,"sources":["../../../src/Bot/Features/Basic.js"],"names":["Basic","Bot","admin","args","source","props","event","Features","Access","whitelist_check","userId","replyText","format","say","length","msg","join","command_prefix","greet","groupId","console","log","client","getGroupMemberIds","then","ids","forEach","id","getGroupMemberProfile","profile","displayName","catch","err","arg","getProfile","statusMessage","help"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,wBAAQC,OAAO;AAC1B,QAAMC,QAAQC,QAAQ;AACpB,UAAM,EAAEC,MAAF,KAAaH,IAAII,KAAJ,CAAUC,KAA7B;AACA,QAAIL,IAAIM,QAAJ,CAAaC,MAAb,CAAoBC,eAApB,CAAoCL,OAAOM,MAA3C,CAAJ,EAAwD;AACtDT,UAAIU,SAAJ,CAAc,gBAAgBC,MAAhB,CAAuBX,IAAII,KAAJ,CAAUC,KAAjC,CAAd;AACD;AACF,GALD;;AAOA,QAAMO,MAAMV,QAAQ;AAClB,QAAIA,KAAKW,MAAL,IAAe,CAAnB,EAAsB;AACpB,YAAM,EAAEV,MAAF,KAAaH,IAAII,KAAJ,CAAUC,KAA7B;AACA,YAAMS,MAAM,CAAC,GAAGZ,IAAJ,EAAUa,IAAV,CAAe,GAAf,CAAZ;AACEf,UAAIU,SAAJ,CAAcI,GAAd;AACH,KAJD,MAIO;AACLd,UAAIU,SAAJ,CAAe,GAAEM,mBAAe,WAAhC;AACD;AACF,GARD;;AAWA,QAAMC,QAAQf,QAAQ;AACpB,UAAMgB,UAAUhB,KAAK,CAAL,KAAWF,IAAII,KAAJ,CAAUC,KAAV,CAAgBF,MAAhB,CAAuBe,OAAlD;AACAC,YAAQC,GAAR,CAAYF,OAAZ;AACAlB,QAAIqB,MAAJ,CAAWC,iBAAX,CAA6BJ,OAA7B,EAAsCK,IAAtC,CAA2CC,OAAO;AAChDA,UAAIC,OAAJ,CAAaC,EAAD,IAAQP,QAAQC,GAAR,CAAYM,EAAZ,CAApB;AACAP,cAAQC,GAAR,CAAYI,GAAZ,EAAiBA,GAAjB;AACAxB,UAAIqB,MAAJ,CAAWM,qBAAX,CAAiCT,OAAjC,EAA0CM,IAAI,CAAJ,CAA1C,EAAkDD,IAAlD,CAAuDK,WAAW;AAC9D5B,YAAIU,SAAJ,CAAe,WAAUkB,QAAQC,WAAY,sCAA7C;AACH,OAFD;AAGD,KAND,EAMGC,KANH,CAMSC,OAAO;AACZ,YAAMA,GAAN;AACD,KARH;AASD,GAZD;;AAcA,QAAMH,UAAUI,OAAO;AACrB,UAAM,EAAE7B,MAAF,KAAaH,IAAII,KAAJ,CAAUC,KAA7B;;AAEA,QAAI2B,OAAO7B,OAAOM,MAAlB,EAA0B;AACxB,YAAMA,SAASuB,IAAI,CAAJ,KAAU7B,OAAOM,MAAhC;AACAU,cAAQC,GAAR,CAAYX,MAAZ;AACAT,UAAIqB,MAAJ,CACGY,UADH,CACcxB,MADd,EAEGc,IAFH,CAEQK,WACJ5B,IAAIU,SAAJ,CAAc,CACX,iBAAgBkB,QAAQC,WAAY,EADzB,EAEX,mBAAkBD,QAAQM,aAAc,EAF7B,CAAd,CAHJ;AAQD,KAXD,MAWO;AACLlC,UAAIU,SAAJ,CAAc,2CAAd;AACD;AACF,GAjBD;;AAmBA,QAAMyB,OAAO,MAAM;AACjB,UAAMrB,MAAO;;MAEXE,mBAAe;;;MAGfA,mBAAe;;;MAGfA,mBAAe;;;MAGfA,mBAAe,QAXjB;;AAaAhB,QAAIU,SAAJ,CAAcI,GAAd;AACD,GAfD;;AAiBA,SAAO;AACLb,SADK;AAELkC,QAFK;AAGLP,WAHK;AAILX,SAJK;AAKLL;AALK,GAAP;AAOD,CA5EM","file":"Basic.js","sourcesContent":["import { StoreAdvance, command_prefix } from \"../../Bot\";\n\nexport const Basic = Bot => {\n  const admin = args => {\n    const { source } = Bot.props.event;\n    if (Bot.Features.Access.whitelist_check(source.userId)) {\n      Bot.replyText(\"privilage: {}\".format(Bot.props.event));\n    }\n  };\n\n  const say = args => {\n    if (args.length >= 1) {\n      const { source } = Bot.props.event;\n      const msg = [...args].join(' ')\n        Bot.replyText(msg);\n    } else {\n      Bot.replyText(`${command_prefix}say <msg>`);\n    }\n  };\n\n\n  const greet = args => {\n    const groupId = args[0] || Bot.props.event.source.groupId;\n    console.log(groupId)\n    Bot.client.getGroupMemberIds(groupId).then(ids => {\n      ids.forEach((id) => console.log(id))\n      console.log(ids, ids)\n      Bot.client.getGroupMemberProfile(groupId, ids[0]).then(profile => {\n          Bot.replyText(`Welcome ${profile.displayName}! Jangan lupa cek notes di group ya!`);\n      });\n    }).catch(err => {\n        throw err;\n      });\n  };\n\n  const profile = arg => {\n    const { source } = Bot.props.event;\n\n    if (arg || source.userId) {\n      const userId = arg[0] || source.userId;\n      console.log(userId);\n      Bot.client\n        .getProfile(userId)\n        .then(profile =>\n          Bot.replyText([\n            `Display name: ${profile.displayName}`,\n            `Status message: ${profile.statusMessage}`\n          ])\n        );\n    } else {\n      Bot.replyText(\"Bot can't use profile API without user ID\");\n    }\n  };\n\n  const help = () => {\n    const msg = `FEP Days & Rooms Commands\n1. add <batch> <name> <campus> <room>\n    ${command_prefix}add a kamu Kemanggisan 000\n\n2. upd <batch> <number> <name> <campus> <room>\n    ${command_prefix}upd a 1 kamu Kemanggisan 000\n\n3. del <batch> <number>\n    ${command_prefix}del a 1\n\n4. view <batch>\n    ${command_prefix}view a`;\n\n    Bot.replyText(msg);\n  };\n\n  return {\n    admin,\n    help,\n    profile,\n    greet,\n    say,\n  };\n};\n"]}