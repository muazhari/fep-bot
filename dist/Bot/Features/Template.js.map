{"version":3,"sources":["../../../src/Bot/Features/Template.js"],"names":["Template","Bot","event","props","button","buttonsImageURL","baseURL","sendMessage","type","altText","template","thumbnailImageUrl","imageAspectRatio","imageSize","imageBackgroundColor","title","text","defaultAction","label","uri","actions","data","confirm","bifest","backgroundImageURL","youtubeUrl","YoutubeDL","options","force","generateUrl","then","url","videoURL","thumbnail","thumbnailURL","baseUrl","baseSize","width","height","area","x","y","linkUri","video","previewImageUrl","originalContentUrl","externalLink","binushack","test"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,MAAMA,8BAAWC,OAAO;AAC7B,QAAM,EAACC,KAAD,KAAUD,IAAIE,KAAJ,CAAUD,KAA1B;;AAEA,QAAME,SAAS,MAAM;AACnB,UAAMC,kBAAmB,GAAEC,YAAQ,0BAAnC;AACAL,QAAIM,WAAJ,CAAgB;AACdC,YAAM,UADQ;AAEdC,eAAS,4BAFK;AAGdC,gBAAU;AACRF,cAAM,SADE;AAERG,2BAAmBN,eAFX;AAGRO,0BAAkB,WAHV;AAIRC,mBAAW,OAJH;AAKRC,8BAAsB,SALd;AAMRC,eAAO,MANC;AAORC,cAAM,eAPE;AAQRC,uBAAe;AACbT,gBAAM,KADO;AAEbU,iBAAO,aAFM;AAGbC,eAAK;AAHQ,SARP;AAaRC,iBAAS,CACP;AACEF,iBAAO,eADT;AAEEV,gBAAM,KAFR;AAGEW,eAAK;AAHP,SADO,EAKJ;AACDD,iBAAO,YADN;AAEDV,gBAAM,UAFL;AAGDa,gBAAM;AAHL,SALI,EASJ;AACDH,iBAAO,UADN;AAEDV,gBAAM,UAFL;AAGDa,gBAAM,aAHL;AAIDL,gBAAM;AAJL,SATI,EAcJ;AACDE,iBAAO,aADN;AAEDV,gBAAM,SAFL;AAGDQ,gBAAM;AAHL,SAdI;AAbD;AAHI,KAAhB;AAsCD,GAxCD;;AA0CA,QAAMM,UAAU,MAAM;AACpB,WAAOrB,IAAIM,WAAJ,CAAgB;AACrBC,YAAM,UADe;AAErBC,eAAS,kBAFY;AAGrBC,gBAAU;AACRF,cAAM,SADE;AAERQ,cAAM,QAFE;AAGRI,iBAAS,CACP;AACEF,iBAAO,KADT;AAEEV,gBAAM,SAFR;AAGEQ,gBAAM;AAHR,SADO,EAKJ;AACDE,iBAAO,IADN;AAEDV,gBAAM,SAFL;AAGDQ,gBAAM;AAHL,SALI;AAHD;AAHW,KAAhB,CAAP;AAmBD,GApBD;;AAsBA,QAAMO,SAAS,MAAM;AACnB,UAAMC,qBAAsB,GAAElB,YAAQ,oBAAtC;;AAEA,UAAMmB,aAAa,IAAIC,mBAAJ,CAAc,6CAAd,CAAnB;AACA,UAAMC,UAAU;AACdC,aAAO;AADO,KAAhB;;AAIAH,eAAWI,WAAX,CAAuB,QAAvB,EAAiCF,OAAjC,EAA0CG,IAA1C,CAA+C,CAAC,EAACC,KAAKC,QAAN,EAAgBC,WAAWC,YAA3B,EAAD,KAA8C;AAC3FjC,UAAIM,WAAJ,CAAgB;AACdC,cAAM,UADQ;AAEd2B,iBAASX,kBAFK;AAGdf,iBAAS,aAHK;AAId2B,kBAAU;AACRC,iBAAO,IADC;AAERC,kBAAQ;AAFA,SAJI;AAQdlB,iBAAS,CACP;AACEmB,gBAAM;AACJC,eAAG,CADC;AAEJC,eAAG,CAFC;AAGJJ,mBAAO,IAHH;AAIJC,oBAAQ;AAJJ,WADR;AAOE9B,gBAAM,KAPR;AAQEkC,mBAAS;AARX,SADO,CARK;AAoBdC,eAAO;AACL;AACAC,2BAAkB,GAAEtC,YAAQ,yCAFvB;AAGLuC,8BAAoBb,QAHf;AAIL;AACAO,gBAAM;AACJC,eAAG,GADC;AAEJC,eAAG,GAFC;AAGJJ,mBAAO,GAHH;AAIJC,oBAAQ;AAJJ,WALD;AAWLQ,wBAAc;AACZJ,qBAAS,mHADG;AAEZxB,mBAAO;AAFK;AAXT;AApBO,OAAhB;AAqCD,KAtCD;AAuCD,GA/CD;;AAiDA,QAAM6B,YAAY,MAAM;AACtB,UAAMvB,qBAAsB,GAAElB,YAAQ,mBAAtC;;AAEAL,QAAIM,WAAJ,CAAgB;AACdC,YAAM,UADQ;AAEd2B,eAASX,kBAFK;AAGdf,eAAS,8BAHK;AAId2B,gBAAU;AACRC,eAAO,GADC;AAERC,gBAAQ;AAFA,OAJI;AAQdlB,eAAS,CACP;AACEmB,cAAM;AACJC,aAAG,CADC;AAEJC,aAAG,CAFC;AAGJJ,iBAAO,GAHH;AAIJC,kBAAQ;AAJJ,SADR;AAOE9B,cAAM,KAPR;AAQEkC,iBAAS;AARX,OADO;AARK,KAAhB;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,GAxCD;;AA0CA,QAAMM,OAAO,MAAM;AACjB;AACD,GAFD;;AAIA,SAAO,EAAC5C,MAAD,EAASkB,OAAT,EAAkBC,MAAlB,EAA0BwB,SAA1B,EAAqCC,IAArC,EAAP;AACD,CAnKM","file":"Template.js","sourcesContent":["import {StoreAdvance, command_prefix, baseURL} from \"../../Bot\";\nimport YoutubeDL from \"../../Bot/Helper/YoutubeDL\";\nimport ResponseCheck from \"../../Bot/Helper/ResponseCheck\";\nimport Store from \"../../Services/Store\";\n\nexport const Template = Bot => {\n  const {event} = Bot.props.event;\n\n  const button = () => {\n    const buttonsImageURL = `${baseURL}/static/buttons/1040.jpg`;\n    Bot.sendMessage({\n      type: \"template\",\n      altText: \"This is a buttons template\",\n      template: {\n        type: \"buttons\",\n        thumbnailImageUrl: buttonsImageURL,\n        imageAspectRatio: \"rectangle\",\n        imageSize: \"cover\",\n        imageBackgroundColor: \"#FFFFFF\",\n        title: \"Menu\",\n        text: \"Please select\",\n        defaultAction: {\n          type: \"uri\",\n          label: \"View detail\",\n          uri: \"http://example.com/page/123\"\n        },\n        actions: [\n          {\n            label: \"Go to line.me\",\n            type: \"uri\",\n            uri: \"https://line.me\"\n          }, {\n            label: \"Say hello1\",\n            type: \"postback\",\n            data: \"hello こんにちは\"\n          }, {\n            label: \"言 hello2\",\n            type: \"postback\",\n            data: \"hello こんにちは\",\n            text: \"hello こんにちは\"\n          }, {\n            label: \"Say message\",\n            type: \"message\",\n            text: \"Rice=米\"\n          }\n        ]\n      }\n    });\n  };\n\n  const confirm = () => {\n    return Bot.sendMessage({\n      type: \"template\",\n      altText: \"Confirm alt text\",\n      template: {\n        type: \"confirm\",\n        text: \"Do it?\",\n        actions: [\n          {\n            label: \"Yes\",\n            type: \"message\",\n            text: \"Yes!\"\n          }, {\n            label: \"No\",\n            type: \"message\",\n            text: \"No!\"\n          }\n        ]\n      }\n    });\n  };\n\n  const bifest = () => {\n    const backgroundImageURL = `${baseURL}/static/background`;\n\n    const youtubeUrl = new YoutubeDL(\"https://www.youtube.com/watch?v=nikc3FeeVs8\");\n    const options = {\n      force: false\n    };\n\n    youtubeUrl.generateUrl(\"bifest\", options).then(({url: videoURL, thumbnail: thumbnailURL}) => {\n      Bot.sendMessage({\n        type: \"imagemap\",\n        baseUrl: backgroundImageURL,\n        altText: \"Bifest 2019\",\n        baseSize: {\n          width: 1040,\n          height: 600\n        },\n        actions: [\n          {\n            area: {\n              x: 0,\n              y: 0,\n              width: 1040,\n              height: 600\n            },\n            type: \"uri\",\n            linkUri: \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\"\n          }\n        ],\n        video: {\n          // originalContentUrl: `${baseURL}/static/imagemap/bifest2019.mp4`,\n          previewImageUrl: `${baseURL}/static/imagemap/bifest2019_preview.jpg`,\n          originalContentUrl: videoURL,\n          // previewImageUrl: thumbnailURL,\n          area: {\n            x: 156,\n            y: 126,\n            width: 738,\n            height: 371\n          },\n          externalLink: {\n            linkUri: \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\",\n            label: \"Lebih lengkap\"\n          }\n        }\n      });\n    });\n  };\n\n  const binushack = () => {\n    const backgroundImageURL = `${baseURL}/static/binushack`;\n\n    Bot.sendMessage({\n      type: \"imagemap\",\n      baseUrl: backgroundImageURL,\n      altText: \"BINUSHACK: Christmas Edition\",\n      baseSize: {\n        width: 735,\n        height: 1040\n      },\n      actions: [\n        {\n          area: {\n            x: 0,\n            y: 0,\n            width: 735,\n            height: 1040\n          },\n          type: \"uri\",\n          linkUri: \"https://bit.ly/binushack\"\n        }\n      ]\n    });\n\n    // Bot.sendMessage({\n    //   type: \"template\",\n    //   altText: \"Register BINUSHACK\",\n    //   template: {\n    //     type: \"buttons\",\n    //     text: \"BINUSHACK: Christmas Edition\",\n    //     actions: [\n    //       {\n    //         type: \"uri\",\n    //         label: \"Register\",\n    //         uri: \"https://bit.ly/binushack\"\n    //       }\n    //     ]\n    //   }\n    // });\n  };\n\n  const test = () => {\n    // Bot.sendMessage();\n  };\n\n  return {button, confirm, bifest, binushack, test};\n};\n"]}