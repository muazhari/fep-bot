{"version":3,"sources":["../../../src/Bot/Features/Template.js"],"names":["Template","Bot","event","props","button","buttonsImageURL","baseURL","sendMessage","type","altText","template","thumbnailImageUrl","imageAspectRatio","imageSize","imageBackgroundColor","title","text","defaultAction","label","uri","actions","data","confirm","bifest","backgroundImageURL","youtubeUrl","YoutubeDL","options","force","url","videoURL","thumbnail","thumbnailURL","generateUrl","baseUrl","baseSize","width","height","area","x","y","linkUri","video","previewImageUrl","originalContentUrl","externalLink"],"mappings":";;;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEO,MAAMA,8BAAWC,OAAO;AAC7B,QAAM,EAAEC,KAAF,KAAYD,IAAIE,KAAJ,CAAUD,KAA5B;;AAEA,QAAME,SAAS,MAAM;AACnB,UAAMC,kBAAmB,GAAEC,YAAQ,0BAAnC;AACAL,QAAIM,WAAJ,CAAgB;AACdC,YAAM,UADQ;AAEdC,eAAS,4BAFK;AAGdC,gBAAU;AACRF,cAAM,SADE;AAERG,2BAAmBN,eAFX;AAGRO,0BAAkB,WAHV;AAIRC,mBAAW,OAJH;AAKRC,8BAAsB,SALd;AAMRC,eAAO,MANC;AAORC,cAAM,eAPE;AAQRC,uBAAe;AACbT,gBAAM,KADO;AAEbU,iBAAO,aAFM;AAGbC,eAAK;AAHQ,SARP;AAaRC,iBAAS,CACP,EAAEF,OAAO,eAAT,EAA0BV,MAAM,KAAhC,EAAuCW,KAAK,iBAA5C,EADO,EAEP,EAAED,OAAO,YAAT,EAAuBV,MAAM,UAA7B,EAAyCa,MAAM,aAA/C,EAFO,EAGP;AACEH,iBAAO,UADT;AAEEV,gBAAM,UAFR;AAGEa,gBAAM,aAHR;AAIEL,gBAAM;AAJR,SAHO,EASP,EAAEE,OAAO,aAAT,EAAwBV,MAAM,SAA9B,EAAyCQ,MAAM,QAA/C,EATO;AAbD;AAHI,KAAhB;AA6BD,GA/BD;;AAiCA,QAAMM,UAAU,MAAM;AACpB,WAAOrB,IAAIM,WAAJ,CAAgB;AACrBC,YAAM,UADe;AAErBC,eAAS,kBAFY;AAGrBC,gBAAU;AACRF,cAAM,SADE;AAERQ,cAAM,QAFE;AAGRI,iBAAS,CACP,EAAEF,OAAO,KAAT,EAAgBV,MAAM,SAAtB,EAAiCQ,MAAM,MAAvC,EADO,EAEP,EAAEE,OAAO,IAAT,EAAeV,MAAM,SAArB,EAAgCQ,MAAM,KAAtC,EAFO;AAHD;AAHW,KAAhB,CAAP;AAYD,GAbD;;AAeA,QAAMO,SAAS,YAAY;AACzB,UAAMC,qBAAsB,GAAElB,YAAQ,oBAAtC;;AAEA,UAAMmB,aAAa,IAAIC,mBAAJ,CACjB,6CADiB,CAAnB;AAGA,UAAMC,UAAU;AACdC,aAAO;AADO,KAAhB;AAGA,UAAM;AACJC,WAAKC,QADD;AAEJC,iBAAWC;AAFP,QAGF,MAAMP,WAAWQ,WAAX,CAAuB,QAAvB,EAAiCN,OAAjC,CAHV;;AAKA,WAAO1B,IAAIM,WAAJ,CAAgB;AACrBC,YAAM,UADe;AAErB0B,eAASV,kBAFY;AAGrBf,eAAS,aAHY;AAIrB0B,gBAAU,EAAEC,OAAO,IAAT,EAAeC,QAAQ,GAAvB,EAJW;AAKrBjB,eAAS,CACP;AACEkB,cAAM,EAAEC,GAAG,CAAL,EAAQC,GAAG,CAAX,EAAcJ,OAAO,IAArB,EAA2BC,QAAQ,GAAnC,EADR;AAEE7B,cAAM,KAFR;AAGEiC,iBACE;AAJJ,OADO,CALY;AAarBC,aAAO;AACL;AACAC,yBAAkB,GAAErC,YAAQ,yCAFvB;AAGLsC,4BAAoBd,QAHf;AAIL;AACAQ,cAAM;AACJC,aAAG,GADC;AAEJC,aAAG,GAFC;AAGJJ,iBAAO,GAHH;AAIJC,kBAAQ;AAJJ,SALD;AAWLQ,sBAAc;AACZJ,mBACE,mHAFU;AAGZvB,iBAAO;AAHK;AAXT;AAbc,KAAhB,CAAP;AA+BD,GA7CD;;AA+CA,SAAO;AACLd,UADK;AAELkB,WAFK;AAGLC;AAHK,GAAP;AAKD,CAvGM","file":"Template.js","sourcesContent":["import { StoreAdvance, command_prefix, baseURL } from \"../../Bot\";\nimport YoutubeDL from \"../../Bot/Helper/YoutubeDL\";\nimport ResponseCheck from \"../../Bot/Helper/ResponseCheck\";\nimport Store from \"../../Services/Store\";\n\nexport const Template = Bot => {\n  const { event } = Bot.props.event;\n\n  const button = () => {\n    const buttonsImageURL = `${baseURL}/static/buttons/1040.jpg`;\n    Bot.sendMessage({\n      type: \"template\",\n      altText: \"This is a buttons template\",\n      template: {\n        type: \"buttons\",\n        thumbnailImageUrl: buttonsImageURL,\n        imageAspectRatio: \"rectangle\",\n        imageSize: \"cover\",\n        imageBackgroundColor: \"#FFFFFF\",\n        title: \"Menu\",\n        text: \"Please select\",\n        defaultAction: {\n          type: \"uri\",\n          label: \"View detail\",\n          uri: \"http://example.com/page/123\"\n        },\n        actions: [\n          { label: \"Go to line.me\", type: \"uri\", uri: \"https://line.me\" },\n          { label: \"Say hello1\", type: \"postback\", data: \"hello こんにちは\" },\n          {\n            label: \"言 hello2\",\n            type: \"postback\",\n            data: \"hello こんにちは\",\n            text: \"hello こんにちは\"\n          },\n          { label: \"Say message\", type: \"message\", text: \"Rice=米\" }\n        ]\n      }\n    });\n  };\n\n  const confirm = () => {\n    return Bot.sendMessage({\n      type: \"template\",\n      altText: \"Confirm alt text\",\n      template: {\n        type: \"confirm\",\n        text: \"Do it?\",\n        actions: [\n          { label: \"Yes\", type: \"message\", text: \"Yes!\" },\n          { label: \"No\", type: \"message\", text: \"No!\" }\n        ]\n      }\n    });\n  };\n\n  const bifest = async () => {\n    const backgroundImageURL = `${baseURL}/static/background`;\n\n    const youtubeUrl = new YoutubeDL(\n      \"https://www.youtube.com/watch?v=nikc3FeeVs8\"\n    );\n    const options = {\n      force: false\n    };\n    const {\n      url: videoURL,\n      thumbnail: thumbnailURL\n    } = await youtubeUrl.generateUrl(\"bifest\", options);\n\n    return Bot.sendMessage({\n      type: \"imagemap\",\n      baseUrl: backgroundImageURL,\n      altText: \"Bifest 2019\",\n      baseSize: { width: 1040, height: 600 },\n      actions: [\n        {\n          area: { x: 0, y: 0, width: 1040, height: 600 },\n          type: \"uri\",\n          linkUri:\n            \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\"\n        }\n      ],\n      video: {\n        // originalContentUrl: `${baseURL}/static/imagemap/bifest2019.mp4`,\n        previewImageUrl: `${baseURL}/static/imagemap/bifest2019_preview.jpg`,\n        originalContentUrl: videoURL,\n        // previewImageUrl: thumbnailURL,\n        area: {\n          x: 156,\n          y: 126,\n          width: 738,\n          height: 371\n        },\n        externalLink: {\n          linkUri:\n            \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\",\n          label: \"Lebih lengkap\"\n        }\n      }\n    });\n  };\n\n  return {\n    button,\n    confirm,\n    bifest\n  };\n};\n"]}