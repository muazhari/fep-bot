{"version":3,"sources":["../../../src/Bot/Features/Template.js"],"names":["Template","Bot","event","props","button","buttonsImageURL","baseURL","sendMessage","type","altText","template","thumbnailImageUrl","imageAspectRatio","imageSize","imageBackgroundColor","title","text","defaultAction","label","uri","actions","data","confirm","bifest","backgroundImageURL","youtubeUrl","YoutubeDL","options","force","generateUrl","then","url","videoURL","thumbnail","thumbnailURL","baseUrl","baseSize","width","height","area","x","y","linkUri","video","previewImageUrl","originalContentUrl","externalLink","binushack","test","body","layout","contents","size","aspectMode","aspectRatio","gravity","position","offsetTop","offsetBottom","offsetStart","offsetEnd","color","spacing","flex","align","decoration","paddingAll"],"mappings":"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","file":"Template.js","sourcesContent":["import {StoreAdvance, command_prefix, baseURL} from \"../../Bot\";\nimport YoutubeDL from \"../../Bot/Helper/YoutubeDL\";\nimport ResponseCheck from \"../../Bot/Helper/ResponseCheck\";\nimport Store from \"../../Services/Store\";\n\nexport const Template = Bot => {\n  const {event} = Bot.props.event;\n\n  const button = () => {\n    const buttonsImageURL = `${baseURL}/static/buttons/1040.jpg`;\n    Bot.sendMessage({\n      type: \"template\",\n      altText: \"This is a buttons template\",\n      template: {\n        type: \"buttons\",\n        thumbnailImageUrl: buttonsImageURL,\n        imageAspectRatio: \"rectangle\",\n        imageSize: \"cover\",\n        imageBackgroundColor: \"#FFFFFF\",\n        title: \"Menu\",\n        text: \"Please select\",\n        defaultAction: {\n          type: \"uri\",\n          label: \"View detail\",\n          uri: \"http://example.com/page/123\"\n        },\n        actions: [\n          {\n            label: \"Go to line.me\",\n            type: \"uri\",\n            uri: \"https://line.me\"\n          }, {\n            label: \"Say hello1\",\n            type: \"postback\",\n            data: \"hello こんにちは\"\n          }, {\n            label: \"言 hello2\",\n            type: \"postback\",\n            data: \"hello こんにちは\",\n            text: \"hello こんにちは\"\n          }, {\n            label: \"Say message\",\n            type: \"message\",\n            text: \"Rice=米\"\n          }\n        ]\n      }\n    });\n  };\n\n  const confirm = () => {\n    return Bot.sendMessage({\n      type: \"template\",\n      altText: \"Confirm alt text\",\n      template: {\n        type: \"confirm\",\n        text: \"Do it?\",\n        actions: [\n          {\n            label: \"Yes\",\n            type: \"message\",\n            text: \"Yes!\"\n          }, {\n            label: \"No\",\n            type: \"message\",\n            text: \"No!\"\n          }\n        ]\n      }\n    });\n  };\n\n  const bifest = () => {\n    const backgroundImageURL = `${baseURL}/static/background`;\n\n    const youtubeUrl = new YoutubeDL(\"https://www.youtube.com/watch?v=nikc3FeeVs8\");\n    const options = {\n      force: false\n    };\n\n    youtubeUrl.generateUrl(\"bifest\", options).then(({url: videoURL, thumbnail: thumbnailURL}) => {\n      Bot.sendMessage({\n        type: \"imagemap\",\n        baseUrl: backgroundImageURL,\n        altText: \"Bifest 2019\",\n        baseSize: {\n          width: 1040,\n          height: 600\n        },\n        actions: [\n          {\n            area: {\n              x: 0,\n              y: 0,\n              width: 1040,\n              height: 600\n            },\n            type: \"uri\",\n            linkUri: \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\"\n          }\n        ],\n        video: {\n          // originalContentUrl: `${baseURL}/static/imagemap/bifest2019.mp4`,\n          previewImageUrl: `${baseURL}/static/imagemap/bifest2019_preview.jpg`,\n          originalContentUrl: videoURL,\n          // previewImageUrl: thumbnailURL,\n          area: {\n            x: 156,\n            y: 126,\n            width: 738,\n            height: 371\n          },\n          externalLink: {\n            linkUri: \"https://binus.ac.id/2019/05/binus-festival-2019-ajang-pameran-tahunan-yang-melahirkan-entrepreneur-berintegritas/\",\n            label: \"Lebih lengkap\"\n          }\n        }\n      });\n    });\n  };\n\n  const binushack = () => {\n    const backgroundImageURL = `${baseURL}/static/binushack`;\n\n    Bot.sendMessage({\n      type: \"imagemap\",\n      baseUrl: backgroundImageURL,\n      altText: \"BINUSHACK 2019\",\n      baseSize: {\n        width: 735,\n        height: 1040\n      },\n      actions: [\n        {\n          area: {\n            x: 0,\n            y: 0,\n            width: 735,\n            height: 1040\n          },\n          type: \"uri\",\n          linkUri: \"https://bit.ly/binushack\"\n        }\n      ]\n    });\n  };\n\n  const test = () => {\n    Bot.sendMessage({\n      type: \"bubble\",\n      body: {\n        type: \"box\",\n        layout: \"vertical\",\n        contents: [\n          {\n            type: \"image\",\n            url: \"https://scdn.line-apps.com/n/channel_devcenter/img/flexsnapshot/clip/clip3.jpg\",\n            size: \"full\",\n            aspectMode: \"cover\",\n            aspectRatio: \"1:1\",\n            gravity: \"center\"\n          }, {\n            type: \"image\",\n            url: \"https://scdn.line-apps.com/n/channel_devcenter/img/flexsnapshot/clip/clip15.png\",\n            position: \"absolute\",\n            aspectMode: \"fit\",\n            aspectRatio: \"1:1\",\n            offsetTop: \"0px\",\n            offsetBottom: \"0px\",\n            offsetStart: \"0px\",\n            offsetEnd: \"0px\",\n            size: \"full\"\n          }, {\n            type: \"box\",\n            layout: \"horizontal\",\n            contents: [\n              {\n                type: \"box\",\n                layout: \"vertical\",\n                contents: [\n                  {\n                    type: \"box\",\n                    layout: \"horizontal\",\n                    contents: [\n                      {\n                        type: \"text\",\n                        text: \"Brown Grand Hotel\",\n                        size: \"xl\",\n                        color: \"#ffffff\"\n                      }\n                    ]\n                  }, {\n                    type: \"box\",\n                    layout: \"baseline\",\n                    contents: [\n                      {\n                        type: \"icon\",\n                        url: \"https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png\"\n                      }, {\n                        type: \"icon\",\n                        url: \"https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png\"\n                      }, {\n                        type: \"icon\",\n                        url: \"https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png\"\n                      }, {\n                        type: \"icon\",\n                        url: \"https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gold_star_28.png\"\n                      }, {\n                        type: \"icon\",\n                        url: \"https://scdn.line-apps.com/n/channel_devcenter/img/fx/review_gray_star_28.png\"\n                      }, {\n                        type: \"text\",\n                        text: \"4.0\",\n                        color: \"#a9a9a9\"\n                      }\n                    ],\n                    spacing: \"xs\"\n                  }, {\n                    type: \"box\",\n                    layout: \"horizontal\",\n                    contents: [\n                      {\n                        type: \"box\",\n                        layout: \"baseline\",\n                        contents: [\n                          {\n                            type: \"text\",\n                            text: \"¥62,000\",\n                            color: \"#ffffff\",\n                            size: \"md\",\n                            flex: 0,\n                            align: \"end\"\n                          }, {\n                            type: \"text\",\n                            text: \"¥82,000\",\n                            color: \"#a9a9a9\",\n                            decoration: \"line-through\",\n                            size: \"sm\",\n                            align: \"end\"\n                          }\n                        ],\n                        flex: 0,\n                        spacing: \"lg\"\n                      }\n                    ]\n                  }\n                ],\n                spacing: \"xs\"\n              }\n            ],\n            position: \"absolute\",\n            offsetBottom: \"0px\",\n            offsetStart: \"0px\",\n            offsetEnd: \"0px\",\n            paddingAll: \"20px\"\n          }\n        ],\n        paddingAll: \"0px\"\n      }\n    });\n  };\n\n  return {button, confirm, bifest, binushack, test};\n};\n"]}