{"version":3,"sources":["../../src/Bot/SharedProps.js"],"names":["SharedPropsFactory","constructor","store","watch","id","prev","next","storeUpdateListener","get","key","Firebase","rdb","ref","set","props","Object","keys","forEach","updateStore","SharedProps"],"mappings":";;;;;;;;;AAAA;;;;;;AAEA,MAAMA,kBAAN,CAAyB;AACvBC,gBAAc;AACZ,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,KAAL,CAAW,OAAX,EAAoB,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,KAAoB;AACtC,WAAKC,mBAAL;AACD,KAFD;AAGD;;AAEDC,MAAIC,GAAJ,EAAS;AACP,QAAIA,GAAJ,EAAS;AACP,aAAO,KAAKP,KAAL,CAAWO,GAAX,CAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAKP,KAAZ;AACD;AACF;;AAEDK,wBAAsB;AACpBG,uBAASC,GAAT,CAAaC,GAAb,CAAiB,aAAjB,EAAgCC,GAAhC,CAAoC,KAAKX,KAAzC;AACD;;AAEDW,MAAIC,KAAJ,EAAW;AACTC,WAAOC,IAAP,CAAYF,KAAZ,EAAmBG,OAAnB,CAA2BR,OAAO;AAChC,WAAKP,KAAL,CAAWO,GAAX,iBACK,KAAKP,KAAL,CAAWO,GAAX,CADL,EAEKK,MAAML,GAAN,CAFL;AAID,KALD;;AAOA,SAAKS,WAAL;AACD;AA7BsB;;AAgCzB,MAAMC,cAAc,IAAInB,kBAAJ,EAApB;;QAGEmB,W,GAAAA,W","file":"SharedProps.js","sourcesContent":["import Firebase from \"../Services/Firebase\";\n\nclass SharedPropsFactory {\n  constructor() {\n    this.store = {};\n    this.watch(\"store\", (id, prev, next) => {\n      this.storeUpdateListener();\n    });\n  }\n\n  get(key) {\n    if (key) {\n      return this.store[key];\n    } else {\n      return this.store;\n    }\n  }\n\n  storeUpdateListener() {\n    Firebase.rdb.ref(\"SharedProps\").set(this.store);\n  }\n\n  set(props) {\n    Object.keys(props).forEach(key => {\n      this.store[key] = {\n        ...this.store[key],\n        ...props[key]\n      };\n    });\n\n    this.updateStore();\n  }\n}\n\nconst SharedProps = new SharedPropsFactory();\n\nexport {\n  SharedProps\n};\n"]}