{"version":3,"sources":["../../src/Bot/SharedProps.js"],"names":["SharedPropsFactory","constructor","store","Proxy","set","_set","get","_get","obj","prop","newVal","oldval","console","log","newval","storeUpdateListener","Firebase","rdb","ref","SharedProps"],"mappings":";;;;;;;AAAA;;;;;;AAEA,MAAMA,kBAAN,CAAyB;AACvBC,gBAAc;AACZ;AACA,SAAKC,KAAL,GAAa,IAAIC,KAAJ,CAAU,EAAV,EAAc;AACzBC,WAAK,KAAKC,IADe;AAEzBC,WAAK,KAAKC;AAFe,KAAd,CAAb;AAID;;AAEDF,OAAKG,GAAL,EAAUC,IAAV,EAAgBC,MAAhB,EAAwB;AACtB,UAAMC,SAASH,IAAIC,IAAJ,CAAf;AACAG,YAAQC,GAAR,CAAY,KAAZ,EAAmBF,MAAnB,EAA2BH,GAA3B,EAAgCC,IAAhC,EAAsCK,MAAtC;AACAN,QAAIC,IAAJ,IAAYC,MAAZ;AACA,SAAKK,mBAAL;AACA,WAAO,IAAP;AACD;;AAEDR,OAAKC,GAAL,EAAUC,IAAV,EAAgB;AACdG,YAAQC,GAAR,CAAY,KAAZ,EAAmBL,GAAnB,EAAwBC,IAAxB;AACA,WAAOD,IAAIC,IAAJ,CAAP;AACD;;AAEDM,wBAAsB;AACpBC,uBAASC,GAAT,CAAaC,GAAb,CAAiB,aAAjB,EAAgCd,GAAhC,CAAoC,KAAKF,KAAzC;AACD;AAxBsB;;AA2BzB,MAAMiB,cAAc,IAAInB,kBAAJ,EAApB;;QAGEmB,W,GAAAA,W","file":"SharedProps.js","sourcesContent":["import Firebase from \"../Services/Firebase\";\n\nclass SharedPropsFactory {\n  constructor() {\n    // this.store = {};\n    this.store = new Proxy({}, {\n      set: this._set,\n      get: this._get\n    });\n  }\n\n  _set(obj, prop, newVal) {\n    const oldval = obj[prop];\n    console.log(\"set\", oldval, obj, prop, newval);\n    obj[prop] = newVal;\n    this.storeUpdateListener();\n    return true;\n  }\n\n  _get(obj, prop) {\n    console.log(\"get\", obj, prop);\n    return obj[prop];\n  }\n\n  storeUpdateListener() {\n    Firebase.rdb.ref(\"SharedProps\").set(this.store);\n  }\n}\n\nconst SharedProps = new SharedPropsFactory();\n\nexport {\n  SharedProps\n};\n"]}