{"version":3,"sources":["../../../src/Services/Firebase/index.js"],"names":["Firebase","constructor","config","app","initApp","fdb","firestore","rdb","database","initSetting","admin","initializeApp","credential","cert","firebaseAdminConfig","databaseURL","firebaseDatabaseURL","fireStoreSetting","settings","timestampsInSnapshots"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,QAAN,CAAe;AACbC,cAAYC,MAAZ,EAAoB;AAClB,SAAKC,GAAL,GAAW,KAAKC,OAAL,CAAaF,MAAb,CAAX;AACA,SAAKG,GAAL,GAAW,KAAKF,GAAL,CAASG,SAAT,EAAX;AACA,SAAKC,GAAL,GAAW,KAAKJ,GAAL,CAASK,QAAT,EAAX;;AAEA,SAAKC,WAAL;AACD;;AAEDL,UAAQF,MAAR,EAAgB;AACd;AACA;AACA,WAAOQ,wBAAMC,aAAN,CAAoB;AACzBC,kBAAYF,wBAAME,UAAN,CAAiBC,IAAjB,CAAsBX,OAAOY,mBAA7B,CADa;AAEzBC,mBAAab,OAAOc;AAFK,KAApB,CAAP;AAID;;AAEDP,gBAAc;AACZ,SAAKQ,gBAAL;AACD;;AAEDA,qBAAmB;AACjB,SAAKZ,GAAL,CAASa,QAAT,CAAkB,EAACC,uBAAuB,IAAxB,EAAlB;AACD;AAxBY;;kBA2BA,IAAInB,QAAJ,CAAa,EAACc,kDAAD,EAAsBE,kDAAtB,EAAb,C","file":"index.js","sourcesContent":["import admin from \"firebase-admin\";\nimport functions from \"firebase-functions\";\nimport {firebaseConfig, firebaseAdminConfig, firebaseDatabaseURL, firebaseAdminKeyPath} from \"../../Config/Firebase\";\nimport fs from \"fs-extra\";\nimport path from \"path\";\nimport cp from \"child_process\";\n\nclass Firebase {\n  constructor(config) {\n    this.app = this.initApp(config);\n    this.fdb = this.app.firestore();\n    this.rdb = this.app.database();\n\n    this.initSetting();\n  }\n\n  initApp(config) {\n    // const serviceAccountKeyData = JSON.stringify(config.firebaseAdminConfig);\n    // fs.writeFile(serviceAccountKeyPath, serviceAccountKeyData, \"utf8\");\n    return admin.initializeApp({\n      credential: admin.credential.cert(config.firebaseAdminConfig),\n      databaseURL: config.firebaseDatabaseURL\n    });\n  }\n\n  initSetting() {\n    this.fireStoreSetting();\n  }\n\n  fireStoreSetting() {\n    this.fdb.settings({timestampsInSnapshots: true});\n  }\n}\n\nexport default new Firebase({firebaseAdminConfig, firebaseDatabaseURL});\n"]}
